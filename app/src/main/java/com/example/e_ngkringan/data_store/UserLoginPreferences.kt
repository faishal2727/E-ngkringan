package com.example.e_ngkringan.data_storeimport android.content.Contextimport androidx.constraintlayout.helper.widget.Flowimport androidx.datastore.core.DataStoreimport androidx.datastore.preferences.core.Preferencesimport androidx.datastore.preferences.core.editimport androidx.datastore.preferences.core.stringPreferencesKeyimport androidx.datastore.preferences.preferencesDataStoreimport com.example.e_ngkringan.util.Constantimport kotlinx.coroutines.flow.mapprivate val Context.userLoginAuth: DataStore<Preferences> by preferencesDataStore(name = Constant.DS_NAME)class UserLoginPreferences(private val context: Context) {    private val tokenKey = stringPreferencesKey(Constant.TOKEN_KEY)    suspend fun setToekn(token : String){        context.userLoginAuth.edit {            it[tokenKey] = token        }    }    fun getTekon(): kotlinx.coroutines.flow.Flow<String> {        return context.userLoginAuth.data.map {            it[tokenKey]?:"undefined"        }    }    suspend fun deleteToken() {        context.userLoginAuth.edit {            it.clear()        }    }}